# ============================================
# REQUIRED CONFIGURATION
# ============================================

# Email address of the user whose mailbox to manage
DELEGATED_USER=user@example.com

# Azure AD Application Configuration
AZURE_CLIENT_ID=your-client-id
AZURE_TENANT_ID=your-tenant-id

# ============================================
# PATHS & STORAGE
# ============================================

# Host path to aech-main/data (shared across all capabilities)
# Used by docker-compose.yml for volume mounts
# AECH_HOST_DATA=../aech-main/data

# User data directory (used to resolve DB path if INBOX_DB_PATH not set)
# AECH_USER_DIR=./data/users/user@example.com

# Override for the capability state DB path
# Default: $AECH_USER_DIR/.inbox-assistant/assistant.sqlite
# Container: /home/agentaech/.inbox-assistant/assistant.sqlite
# INBOX_DB_PATH=~/.inbox-assistant/assistant.sqlite

# Path to user preferences JSON
# AECH_PREFERENCES_PATH=$AECH_USER_DIR/preferences.json

# ============================================
# POLLING & SYNC CONFIGURATION
# ============================================

# How often to poll for new emails (seconds)
POLL_INTERVAL=60

# How often to run delta sync to detect deletions/moves (seconds, default: 300)
# DELTA_SYNC_INTERVAL=300

# How often to sync calendar events (seconds, default: 300)
# CALENDAR_SYNC_INTERVAL=300

# How often to run working memory engine (seconds, default: 300)
# WM_ENGINE_INTERVAL=300

# Sync start date (YYYY-MM-DD) - used by fresh_start.sh, empty for full history
# SYNC_SINCE=2025-01-01

# ============================================
# RT TRIGGER QUEUE (Maildir-Style)
# ============================================

# Outbox dir for one-file-per-trigger JSON
# RT_OUTBOX_DIR=/triggers/outbox

# Dedupe marker dir
# RT_DEDUPE_DIR=/triggers/dedupe

# Dedupe TTL in days (default: 7)
# RT_DEDUPE_TTL_DAYS=7

# ============================================
# AI MODEL CONFIGURATION
# ============================================

# Model for email categorization
# Examples: openai:gpt-5, openai-responses:gpt-5-mini, anthropic:claude-4-5-sonnet
MODEL_NAME=openai:gpt-5

# Model for classification (lighter model for simple categorization)
# CLASSIFICATION_MODEL=openai-responses:gpt-5-nano

# Model for working memory analysis
# WM_MODEL=openai-responses:gpt-5-mini

# Model for embeddings (default: sentence-transformers/all-MiniLM-L6-v2)
# EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Embedding batch size (default: 8)
# EMBEDDING_BATCH_SIZE=8

# API Keys (at least one required)
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...

# ============================================
# CLEANUP STRATEGY
# ============================================

# How aggressively to suggest moving emails to "Should Delete"
# Options: low, medium, aggressive
# - low: Only obvious spam/junk
# - medium: Spam + old newsletters (>3 months)
# - aggressive: Spam + newsletters (>1 month) + cold outreach
CLEANUP_STRATEGY=medium

# ============================================
# EXECUTIVE ASSISTANT DEFAULTS
# ============================================

# IANA timezone for scheduling-related defaults
DEFAULT_TIMEZONE=UTC

# Follow-up trigger threshold (days since last activity)
FOLLOWUP_N_DAYS=2

# Weekly digest scheduling (also controllable via preferences.json)
# ENABLE_WEEKLY_DIGEST=true
# DIGEST_DAY=friday
# DIGEST_TIME_LOCAL=08:30
# DIGEST_WINDOW_MINUTES=30

# ============================================
# WORKING MEMORY TUNING (Advanced)
# ============================================

# Days until observation is considered stale (default: 30)
# WM_STALE_THRESHOLD_DAYS=30

# Days to retain observations (default: 90)
# WM_OBSERVATION_RETENTION_DAYS=90

# Days without reply before nudge (default: 3)
# WM_REPLY_NUDGE_DAYS=3

# Days without decision before nudge (default: 7)
# WM_DECISION_NUDGE_DAYS=7

# Days before urgency escalation (default: 14)
# WM_URGENCY_ESCALATION_DAYS=14

# ============================================
# AUTHENTICATION
# ============================================

# Path to Microsoft Graph token cache
# MSGRAPH_TOKEN_CACHE_PATH=data/app_context/aech-cli-msgraph/token_cache.json

# Teams flow URL for authentication notifications (optional)
# MSGRAPH_AUTH_NOTIFICATION_URL=https://...
